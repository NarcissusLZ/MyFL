# 设备配置
device: "cuda"             # 训练设备 (cpu, cuda, mps)

# 数据集配置
dataset: "cifar10"        # 数据集名称 (mnist, fashion-mnist, cifar10, cifar100)
data_dir: "./datasets"    # 数据集存储目录

# 训练超参数
batch_size: 64            # 批次大小
lr: 0.01                  # 学习率
momentum: 0.9             # 动量
local_epochs: 3           # 本地训练轮次

# 联邦学习配置
num_rounds: 100           # 全局训练轮次
num_clients: 10           # 客户端总数
client_fraction: 0.6      # 每轮选择的客户端比例 (choose_number/num_clients = 10/20 = 0.5)
non_iid: True             # 是否使用非独立同分布数据
non_iid_alpha: 0.5        # 非独立同分布程度 (值越小越非独立)

# 模型配置
model: "VGG16"    # 模型架构

# 其他配置
max_grad_norm: 5.0        # 梯度裁剪阈值
result_dir: "./results"   # 结果保存目录
num_workers: 4            # 数据加载工作进程数
test_batch_size: 128      # 测试批次大小

pocket_loss_rate: 0.2

layers_to_drop:           # 指定要丢弃的层，支持部分名称匹配
  - "features.34"
  - "features.35"
  - "features.36"
  - "features.37"
  - "features.38"
  - "features.39"
  - "features.40"
  - "features.41"
  - "features.42"